doctype
html(ng-app='npmalerts')
    head
        // Google Analytics Content Experiment code
         script.
             function utmx_section(){}function utmx(){}(function(){var
             k='78050976-0',d=document,l=d.location,c=d.cookie;
             if(l.search.indexOf('utm_expid='+k)>0)return;
             function f(n){if(c){var i=c.indexOf(n+'=');if(i>-1){var j=c.
             indexOf(';',i);return escape(c.substring(i+n.length+1,j<0?c.
             length:j))}}}var x=f('__utmx'),xx=f('__utmxx'),h=l.hash;d.write(
             '<sc'+'ript src="'+'http'+(l.protocol=='https:'?'s://ssl':
             '://www')+'.google-analytics.com/ga_exp.js?'+'utmxkey='+k+
             '&utmx='+(x?x:'')+'&utmxx='+(xx?xx:'')+'&utmxtime='+new Date().
             valueOf()+(h?'&utmxhash='+escape(h.substr(1)):'')+
             '" type="text/javascript" charset="utf-8"><\/sc'+'ript>')})();
             </script><script>utmx('url','A/B');
         // End of Google Analytics Content Experiment code


        meta(charset='utf-8')
        meta(http-equiv='X-UA-Compatible',content='IE=edge')
        meta(name='description', content='')
        meta(name='viewport', content='width=device-width, initial-scale=1')

        title npm alerts - letting you know when there's a new version of your npm packages

        link(type='text/plain',rel='author',href='/humans.txt')
        link(rel='stylesheet', href='/css/bootstrap.min.css')
        link(rel='stylesheet', href='/css/bootstrap-theme.min.css')
        link(rel='stylesheet', href='/css/font-awesome.min.css')

        style.
            .container { max-width: 770px }
            .form-group { margin-right: 10px }

    body
        a(href='https://github.com/seriema/npmalerts') <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub">

        div.container
            p &nbsp;
            //if lt IE 7
                p.browsehappy
                    You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.

        div.container
            div.jumbotron(ng-controller='SignUpCtrl')
                h1 npm alerts
                p.lead Start observing your GitHub repository and get an email whenever a new node.js package is available.

                form.form-inline(role='form', ng-submit='submit()')
                    div.form-group
                        label.sr-only(for='email') Email address
                        input.form-control#email(type='email', placeholder='Enter email', ng-model='email', required)
                    div.form-group
                        label.sr-only(for='url') GitHub URL
                        input.form-control#url(type='url', placeholder='Github URL', ng-model='url', required)

                    button.btn.btn-primary(type='submit', ng-show='isAdding') Watch
                    button.btn.btn-danger(type='submit', ng-hide='isAdding') Unwatch

                    br

                    div.checkbox(ng-show='isAdding')
                        label
                            input(type='checkbox', ng-model='ignorePatches')
                            small &nbsp; Ignore patches (
                                a(href='http://semver.org/') ?
                            | )

                p(ng-show='isAdding')
                    a(href='#', ng-click='showUnwatch()') Already watching a repo and want to cancel?
                p(ng-hide='isAdding')
                    a(href='#', ng-click='showWatch()') Want to watch a repo instead?

                alert(ng-repeat='alert in alerts', type='alert.type', close='closeAlert($index)') {{alert.msg}}

            div.row
                div.col-md-12
                    div.alert.alert-info
                        strong Alpha!
                        p Help me test out this service! Let me know what you think on <a href="http://twitter.com/seriemajp">Twitter</a>!

            div.row
                div.col-md-4
                    h2 <i class="icon-beer"></i> Free
                    p The service is completely free and your email will only be used to send notifications about updates to packages you use.
                div.col-md-4
                    h2 <i class="icon-envelope-alt"></i> Notification
                    p Sign up above and you'll get an email when a Node package defined in your package.json has a new release.
                div.col-md-4
                    h2 <i class="icon-check"></i> All versions
                    p Semver version ranges are checked, but you'll get notified either way in case you want to upgrade your package.json.

            div.row
                div.col-md-12
                    h2 About
                    p This page was created by a developer tired of checking for new versions of node packages (especially when using <a href="http://gruntjs.com/">GruntJS</a>). Services he found either required manual checks or tried to charge for it.
                    p The service is free because usage is within the free account on <a href="http://heroku.com">Heroku</a>. If this changes I might ask for donations or add ads to cover costs.
                    p npm alerts is hosted on Heroku and uses the MEAN-stack (i.e. <a href="http://www.mongodb.org/">MongoDB</a>, <a href="http://expressjs.com/">ExpressJS</a>, <a href="http://angularjs.org/">AngularJS</a>, and <a href="http://nodejs.org/">NodeJS</a>). It also uses <a href="http://getbootstrap.com/">Twitter Bootstrap</a> (actually <a href="http://angular-ui.github.io/bootstrap/">Angular Bootstrap</a>). If you're interested in the code then feel free to check out the sourcecode at <a href="https://github.com/seriema/npmalerts">GitHub</a>.

            footer.footer
                hr
                p Created by <a href="https://twitter.com/seriemajp">@seriemajp</a>

        script.
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-1324222-3');ga('send','pageview');

        script(src='/js/angular.min.js')
        script(src='/js/ui-bootstrap.min.js')
        script(src='/js/ui-bootstrap-tpls.min.js')
        script(src='/js/lodash.min.js')
        script(src='/home/index.js')
        script(src='/subscription.js')
